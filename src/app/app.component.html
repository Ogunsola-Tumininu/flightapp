<div class="container">
  <div class="jumbotron">
    <h1>Bookify</h1>
    <p>Connects you to the world</p>
  </div>
  <form class="form-horizontal col-md-12">
    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="d_city">Departure Code: </label>
      <div class="col-sm-10">
        <input type="email" class="form-control" id="D_city" name="departureCity" [(ngModel)]="departureCity"
          placeholder="Departure City" required>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="dest_city">Destination Code: </label>
      <div class="col-sm-10">
          <input type="email" class="form-control" id="dest_city" name="destinationCity" [(ngModel)]="destinationCity"
          placeholder="Destination City" required>
      </div>
    </div>

    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="dep_date">Departure Date: </label>
      <div class="col-sm-10">
          <input type="date" id="dep_date" class="form-control" name="departureDate" [(ngModel)]="departureDate"
          placeholder="Departure Date" required>
      </div>
    </div>

    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="ret_date">Return Date :</label>
      <div class="col-sm-10">
          <input type="date" id="ret_date" class="form-control" name="returnDate" [(ngModel)]="returnDate"
          placeholder="Return Date">
      </div>
    </div>

    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="cabin">Cabin: </label>
      <div class="col-sm-10">
          <select class="form-control" name="cabinClass" id="cabin" [(ngModel)]="cabinClass" placeholder="carbinClass" required>
              <option>First</option>
              <option>Economy</option>
              <option>Premium</option>
              <option>Business</option>
              <option>All</option>
            </select>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="adult">No of Adult: </label>
      <div class="col-sm-10">
          <input type="number" class="form-control" name="adult" id="adult" [(ngModel)]="adult" placeholder="No of adult" required>
      </div>
    </div>

    <div class="form-group col-md-6">
      <label class="control-label col-sm-2" for="children">No of Children:</label>
      <div class="col-sm-10">
          <input type="number" class="form-control" id="children" name="children" [(ngModel)]="children" placeholder="No of children"
          required>
      </div>
    </div>

    <div class="form-group col-md-6 ">
      <label class="control-label col-sm-2" for="infants">No of Infant:</label>
      <div class="col-sm-10">
          <input type="number" id="infants" class="form-control" name="infants" [(ngModel)]="infants" placeholder="No of infants"
          required>
      </div>
    </div>

    <div class="form-group col-md-6">
        <div class="col-sm-offset-2 col-sm-10">
            <button (click)="searchCity()" class="btn btn-lg btn-success">Search</button>
        </div>
      </div>
  </form> <br> <br>
  <div *ngIf="showWait" class="col-sm-12" style="text-align: center">
    <img src="assets/tenor.gif" alt="Please wait">
  </div>

  <div class="col-sm-12" *ngIf="showResult">
    <h1>Airline List</h1>
    <div *ngFor="let destination of results" class="col-md-12">

      <!-- <div class="panel-heading">{{destination.cabin.name}} Class Cabin
            <p class="pull-right">Total Price: {{destination.pricing.provider.currency.code }}{{ destination.pricing.provider.total_fare}}</p>
          </div> -->

      <div *ngFor="let origin of destination.origin_destinations">
        <div class="col-md-12" *ngFor="let segment of origin.segments">
          <div class="panel panel-default">
            <div class="panel-heading">
              {{destination.cabin.name}} Class Cabin
              <p class="pull-right"> <b>Total Price:</b>
                {{destination.pricing.provider.currency.code }}{{ destination.pricing.provider.total_fare}}</p>
            </div>
            <div class="panel-body">
              <div class="col-md-6">
                <h2>Departure Date and Time</h2>
                <p> {{segment.departure.date }} {{segment.departure.time }}</p>
              </div>

              <div class="col-md-6">
                <h2>Departure Airport and Terminal</h2>
                <p> {{segment.departure.airport.name }} (Terminal {{segment.departure.airport.terminal }})</p>
              </div>
              <div class="col-md-6">
                <h2>Arrival Date and Time</h2>
                <p> {{segment.arrival.date }} {{segment.arrival.time }}</p>
              </div>
              <div class="col-md-6">
                <h2>Arrival Airport and Terminal</h2>
                <p> {{segment.arrival.airport.name }} (Terminal {{segment.arrival.airport.terminal}})</p>
              </div>
              <div class="col-md-6">
                <h2>Flight Number</h2>
                <p> {{segment.flight_number }} </p>
              </div>

              <div class="col-md-6">
                <h2>Operating Airline</h2>
                <p> {{segment.operating_airline.name }} </p>
              </div>

            </div>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>
